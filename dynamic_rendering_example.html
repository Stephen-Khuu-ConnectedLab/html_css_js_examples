<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2018 by anonymous (http://jsbin.com/rakenepofa/3/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<style id="jsbin-css">
.attestation-table-row:nth-child(even) {
  background-color: #ffffff;
  color: #404243;
}

.attestation-table-row:nth-child(odd) {
  background-color: #dddddd;
  color: #666666;
}
</style>
</head>
<body>
  <h1>Oh look! a dynamically generated table!</h1>
  <hr/>
<div class="container">
  
</div>
  <hr/>
<footer>
  Khuu Enterprises 2018&reg;
  </footer>
<noscript x-shyft-template-name="attestation-table">
  <div class="attestation-table">
  
  </div>
</noscript>

<noscript x-shyft-template-name="attestation-table-row">
  <div class="attestation-table-row">
    <span class="wallet-address"></span>
    <span class="kyc-status"></span>
  </div>
</noscript>

<script id="jsbin-javascript">
$(function() {

	var attestations = [{
  	'wallet-address' : '0xA35E36',
    'kyc-status' : 'level 1'
  },{
  	'wallet-address' : '0xB35C36',
    'kyc-status' : 'level 1'
  },{
  	'wallet-address' : '0xA37E38',
    'kyc-status' : 'level 1'
  }];

  function renderTable(attestations) {
  	var attestationTableMarkup = $('[x-shyft-template-name="attestation-table"]').html();
    var attesatationTableRowMarkup = $('[x-shyft-template-name="attestation-table-row"]').html();

    var $attestationTable = $(attestationTableMarkup);
    
  	[].forEach.call(attestations, function(attestation) {
    	var $attesationTableRow = $(attesatationTableRowMarkup);
      	
        $attesationTableRow.find('.wallet-address').html(attestation['wallet-address']);
        
        $attesationTableRow.find('.kyc-status').html(attestation['kyc-status']);
        
        $attestationTable.append($attesationTableRow);
        //OR alternatively...
        /*
        
        var $attesationTableRow = $(attesatationTableRowMarkup);
        for (var key in attestation) {
          if (attesatation.hasOwnProperty('key')) {
          	var $attestationAttribute = $('<span data-name="' + key + '">' + attestation[key] + '</span>');
          }
					$attesationTableRow.appendChild($attestationAttribute);
        }
        
        */
    });
    
    $('.container').append($attestationTable);
  }
  
  renderTable(attestations);
});
</script>
</body>
</html>